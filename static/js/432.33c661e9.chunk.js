"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[432],{7432:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r,a,i=t(9434),o=t(168),s=t(8045),l=t(6916),c=function(n){return n.contacts.items},u=function(n){return n.contacts.isLoading},d=function(n){return n.contacts.error},m=(0,l.P1)([c,function(n){return n.filter.request},function(n){return n.filter.number}],(function(n,e,t){return n.filter((function(n){return n.name.toUpperCase().includes(e.toUpperCase())&&n.number.includes(t)}))})),h=function(){return{contacts:(0,i.v9)(c),isLoading:(0,i.v9)(u),error:(0,i.v9)(d)}},p=t(5264),f=function(){return{showFailure:function(n){p.Notify.failure(n,{timeout:1e3})}}},x=t(4554),j=t(232),Z=t(6151),g=t(2419),b=t(184),v=function(){var n=h().contacts,e=f().showFailure,t=(0,i.I0)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(x.Z,{component:"form",onSubmit:function(r){r.preventDefault();var a=r.target,i={name:a.elements.name.value,number:a.elements.phone.value};(function(n,r){if(!function(n,e){var t=e.toUpperCase();return n.find((function(n){return n.name.toUpperCase()===t}))}(n,r.name))return t((0,s.el)(r)),!0;e("".concat(r.name," is already in contacts"))})(n,i)&&a.reset()},sx:{mt:1,maxWidth:480},children:[(0,b.jsx)(j.Z,{margin:"normal",required:!0,fullWidth:!0,inputProps:{inputMode:"text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"},id:"name",label:"User name",name:"name",autoComplete:"name",autoFocus:!0}),(0,b.jsx)(j.Z,{margin:"normal",required:!0,fullWidth:!0,inputProps:{inputMode:"text",pattern:String.raw(r||(r=(0,o.Z)(["+?d{1,4}?[-.s]?(?d{1,3}?)?[-.s]?d{1,4}[-.s]?d{1,4}[-.s]?d{1,9}"],["\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}"])))},name:"phone",label:"Phone number",type:"phone",id:"phone"}),(0,b.jsx)(x.Z,{m:1,display:"flex",justifyContent:"center",alignItems:"center",children:(0,b.jsx)(Z.Z,{type:"submit",fullWidth:!0,variant:"contained",startIcon:(0,b.jsx)(g.Z,{}),sx:{mt:3,mb:2,maxWidth:240},children:"Add new contact"})})]})})},C=t(9439),y=t(2007),W=t.n(y),k=t(2791),w=t(5289),P=t(5201),F=t(6346),I=t(6711),q=function(n){var e=n.contact,t=n.isOpen,r=n.handlerClose,l=h().contacts,c=f().showFailure,u=(0,i.I0)();return(0,b.jsxs)(w.Z,{maxWidth:"lg",open:t,onClose:r,sx:{p:2},children:[(0,b.jsx)(P.Z,{variant:"h4",children:"Edit contact:"}),(0,b.jsxs)(x.Z,{component:"form",onSubmit:function(n){n.preventDefault();var t=n.target,a={name:t.elements.name.value,number:t.elements.phone.value};!function(n,e,t){var r=e.toUpperCase();return n.find((function(n){return n.name.toUpperCase()===r&&n.id!==t}))}(l,a.name,e.id)?(u((0,s.FQ)({id:e.id,contact:a})),r()):c("".concat(a.name," is already in contacts"))},sx:{mt:1,maxWidth:480,p:2},children:[(0,b.jsx)(j.Z,{margin:"normal",required:!0,fullWidth:!0,inputProps:{inputMode:"text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"},id:"name",label:"User name",name:"name",autoComplete:"name",autoFocus:!0,defaultValue:e.name}),(0,b.jsx)(j.Z,{margin:"normal",required:!0,fullWidth:!0,inputProps:{inputMode:"text",pattern:String.raw(a||(a=(0,o.Z)(["+?d{1,4}?[-.s]?(?d{1,3}?)?[-.s]?d{1,4}[-.s]?d{1,4}[-.s]?d{1,9}"],["\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}"])))},name:"phone",label:"Phone number",type:"phone",id:"phone",defaultValue:e.number}),(0,b.jsxs)(x.Z,{m:1,display:"flex",justifyContent:"center",alignItems:"center",gap:2,children:[(0,b.jsx)(Z.Z,{type:"submit",fullWidth:!0,variant:"contained",startIcon:(0,b.jsx)(F.Z,{}),sx:{mt:3,mb:2,maxWidth:240},children:"Save contact"}),(0,b.jsx)(Z.Z,{type:"button",fullWidth:!0,variant:"contained",startIcon:(0,b.jsx)(I.Z,{}),sx:{mt:3,mb:2,maxWidth:240},onClick:r,children:"Cancel"})]})]})]})},z=t(3400),U=t(7247),A=t(1286),S=t(4942),M=t(8745),_=t(5855),L=t(618),R=t(6934),T=(0,R.ZP)(M.Z)((function(n){var e,t=n.theme;return e={},(0,S.Z)(e,"&.".concat(L.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,S.Z)(e,"&.".concat(L.Z.body),{fontSize:14}),e})),D=(0,R.ZP)(_.Z)((function(n){return{"&:nth-of-type(odd)":{backgroundColor:n.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),E=function(n){var e=n.contact,t=(0,i.I0)(),r=(0,k.useState)(!1),a=(0,C.Z)(r,2),o=a[0],l=a[1];return(0,b.jsxs)(D,{children:[(0,b.jsx)(T,{component:"th",scope:"row",children:e.name}),(0,b.jsx)(T,{align:"left",children:e.number}),(0,b.jsx)(T,{align:"left",children:(0,b.jsx)(z.Z,{"aria-label":"delete",color:"primary",onClick:function(){return t((0,s._f)(e.id))},children:(0,b.jsx)(U.Z,{})})}),(0,b.jsx)(T,{align:"left",children:(0,b.jsx)(z.Z,{"aria-label":"edit",color:"primary",onClick:function(){return l(!0)},children:(0,b.jsx)(A.Z,{})})}),(0,b.jsx)(q,{contact:e,isOpen:o,handlerClose:function(){return l(!1)}})]})};E.propType={contact:W().exact({id:W().string.isRequired,name:W().string.isRequired,number:W().string.isRequired,edit:W().bool}).isRequired};var N=E,O=t(5413),V=function(){var n=(0,i.I0)();return(0,b.jsxs)(D,{children:[(0,b.jsx)(T,{component:"th",scope:"row",children:(0,b.jsx)(j.Z,{type:"search",name:"filter",variant:"standard",fullWidth:!0,label:"Find by name",onChange:function(e){n((0,O.M6)(e.currentTarget.value))}})}),(0,b.jsx)(T,{align:"left",children:(0,b.jsx)(j.Z,{type:"search",name:"filter",variant:"standard",fullWidth:!0,label:"Find by number",onChange:function(e){n((0,O.pl)(e.currentTarget.value))}})}),(0,b.jsx)(T,{align:"left"}),(0,b.jsx)(T,{align:"left"})]})},$=t(9281),Q=t(5527),B=t(9836),G=t(6890),H=t(3382),J=function(){var n=(0,i.v9)(m);return(0,b.jsx)($.Z,{component:Q.Z,children:(0,b.jsxs)(B.Z,{sx:{maxWidth:480},"aria-label":"customized table",children:[(0,b.jsx)(G.Z,{children:(0,b.jsxs)(_.Z,{children:[(0,b.jsx)(T,{children:"Name"}),(0,b.jsx)(T,{align:"left",children:"Phone"}),(0,b.jsx)(T,{align:"right"}),(0,b.jsx)(T,{align:"right"})]})}),(0,b.jsxs)(H.Z,{children:[(0,b.jsx)(V,{}),n.map((function(n){return(0,b.jsx)(N,{contact:n},n.id)}))]})]})})},K=t(6747),X=t(890),Y=function(){var n=h(),e=n.contacts,t=n.isLoading,r=n.error,a=(0,i.I0)();return(0,k.useEffect)((function(){a((0,s.CL)())}),[a]),(0,b.jsxs)(x.Z,{sx:{padding:2},children:[(0,b.jsx)(X.Z,{variant:"h3",children:"Phonebook"}),(0,b.jsx)(v,{}),e.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Z,{variant:"h4",children:"Contacts"}),(0,b.jsx)(J,{})]}),t&&!r&&(0,b.jsx)(K.Z,{})]})}}}]);
//# sourceMappingURL=432.33c661e9.chunk.js.map